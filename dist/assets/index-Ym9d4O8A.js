import{H as p,j as r,b as e,ah as j}from"./deepmerge-CTR-2iFl.js";import{v as C,B as u,S,T as s}from"./App-Cl4K1hj7.js";import{C as y,a as b,b as v,f as A,d as E,i as w}from"./firebase-Cjtt-dVy.js";import{f as h,c as D}from"./clipboard-handler-AfVuizbM.js";import{A as I}from"./Alert-CWRSxdOE.js";import"./index-K4Q6e0cW.js";const k=p(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),z=p(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function N(){const[m]=C(),t=m.get("id"),[i,x]=e.useState(null),[c,a]=e.useState("loading"),[f,o]=e.useState("");return e.useEffect(()=>{if(!t){o("ID de cuenta no válido"),a("error");return}(async()=>{try{const n=A(E,"sharedAccounts",t),d=await w(n);if(!d.exists()){o("Cuenta no encontrada"),a("error");return}const l=d.data();x(l);const g=h(l);await D(g)?a("success"):(o("No se pudo copiar al portapapeles. Por favor, copia manualmente."),a("error"))}catch(n){console.error("Error fetching account:",n),o("Error al cargar los datos de la cuenta"),a("error")}})()},[t]),r.jsxs(y,{maxWidth:"sm",children:[r.jsx("meta",{name:"title",content:"Datos Bancarios"}),r.jsx(u,{sx:{mt:8,mb:4},children:r.jsx(b,{children:r.jsx(v,{children:r.jsxs(S,{spacing:3,alignItems:"center",children:[c==="loading"&&r.jsxs(r.Fragment,{children:[r.jsx(j,{}),r.jsx(s,{variant:"h5",align:"center",children:"Cargando datos..."})]}),c==="success"&&r.jsxs(r.Fragment,{children:[r.jsx(k,{sx:{fontSize:80,color:"success.main"}}),r.jsx(s,{variant:"h4",align:"center",color:"success.main",children:"¡Datos Copiados!"}),r.jsx(s,{variant:"body1",align:"center",color:"text.secondary",children:"Los datos bancarios se han copiado a tu portapapeles"}),i&&r.jsx(u,{sx:{mt:2,p:2,bgcolor:"background.default",borderRadius:1,width:"100%"},children:r.jsx(s,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap"},children:h(i)})})]}),c==="error"&&r.jsxs(r.Fragment,{children:[r.jsx(z,{sx:{fontSize:80,color:"error.main"}}),r.jsx(s,{variant:"h5",align:"center",color:"error.main",children:"Error"}),r.jsx(I,{severity:"error",sx:{width:"100%"},children:f})]})]})})})})]})}export{N as default};
