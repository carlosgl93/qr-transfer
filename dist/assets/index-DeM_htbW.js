import{b as v,l as A,j as r,o as j,n as D,q as W,t as I,ad as R,H as L,I as b}from"./hooks-BWlgxfag.js";import{a as T,u as B,B as $,T as y,S as w}from"./App-BXi3ZNGz.js";import{u as k}from"./useNotifications-BpYlB5BH.js";import{C as G,a as N,b as z}from"./Container-DAXyd3cS.js";import{A as H}from"./Alert-C_YSVmH4.js";import{g as M,T as S}from"./TextField-CWBJaELZ.js";import"./index-Crojux0P.js";import"./NotificationsContext-BH5vbCom.js";const U=t=>{const{absolute:e,children:i,classes:p,flexItem:c,light:d,orientation:o,textAlign:n,variant:s}=t;return W({root:["root",e&&"absolute",s,d&&"light",o==="vertical"&&"vertical",c&&"flexItem",i&&"withChildren",i&&o==="vertical"&&"withChildrenVertical",n==="right"&&o!=="vertical"&&"textAlignRight",n==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},M,p)},E=j("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.absolute&&e.absolute,e[i.variant],i.light&&e.light,i.orientation==="vertical"&&e.vertical,i.flexItem&&e.flexItem,i.children&&e.withChildren,i.children&&i.orientation==="vertical"&&e.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&e.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&e.textAlignLeft]}})(I(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:R(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),V=j("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.wrapper,i.orientation==="vertical"&&e.wrapperVertical]}})(I(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),C=v.forwardRef(function(e,i){const p=A({props:e,name:"MuiDivider"}),{absolute:c=!1,children:d,className:o,orientation:n="horizontal",component:s=d||n==="vertical"?"div":"hr",flexItem:l=!1,light:u=!1,role:h=s!=="hr"?"separator":void 0,textAlign:g="center",variant:f="fullWidth",...x}=p,a={...p,absolute:c,component:s,flexItem:l,light:u,orientation:n,role:h,textAlign:g,variant:f},m=U(a);return r.jsx(E,{as:s,className:D(m.root,o),role:h,ref:i,ownerState:a,"aria-orientation":h==="separator"&&(s!=="hr"||n==="vertical")?n:void 0,...x,children:d?r.jsx(V,{className:m.wrapper,ownerState:a,children:d}):null})});C&&(C.muiSkipListHighlight=!0);const q=L(r.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");function Z(){const[t,e]=v.useState(!1),[i,p]=v.useState(""),[c,d]=v.useState(""),{signIn:o,signUp:n,signInWithGoogle:s,loading:l,error:u}=T(),h=B(),g=k(),f=async a=>{a.preventDefault();try{t?(await n(i,c),g.show("Cuenta creada exitosamente",{severity:"success",autoHideDuration:3e3})):(await o(i,c),g.show("Sesión iniciada",{severity:"success",autoHideDuration:3e3})),h("/dashboard")}catch{}},x=async()=>{try{await s(),g.show("Sesión iniciada con Google",{severity:"success",autoHideDuration:3e3}),h("/dashboard")}catch{}};return r.jsxs(G,{maxWidth:"sm",children:[r.jsx("meta",{name:"title",content:"Iniciar Sesión"}),r.jsx($,{sx:{mt:8,mb:4},children:r.jsx(N,{children:r.jsxs(z,{children:[r.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:t?"Crear Cuenta":"Iniciar Sesión"}),r.jsx(y,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:t?"Crea tu cuenta para generar códigos QR":"Ingresa para gestionar tus cuentas bancarias"}),u&&r.jsx(H,{severity:"error",sx:{mb:2},children:u}),r.jsxs(w,{spacing:2,children:[r.jsx(b,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(q,{}),onClick:x,disabled:l,size:"large",children:"Continuar con Google"}),r.jsx(C,{children:"O"}),r.jsx("form",{onSubmit:f,children:r.jsxs(w,{spacing:2,children:[r.jsx(S,{fullWidth:!0,label:"Correo electrónico",type:"email",value:i,onChange:a=>p(a.target.value),required:!0,disabled:l}),r.jsx(S,{fullWidth:!0,label:"Contraseña",type:"password",value:c,onChange:a=>d(a.target.value),required:!0,disabled:l,helperText:t?"Mínimo 6 caracteres":""}),r.jsx(b,{fullWidth:!0,variant:"contained",type:"submit",disabled:l,size:"large",children:t?"Crear Cuenta":"Iniciar Sesión"})]})}),r.jsx(b,{fullWidth:!0,variant:"text",onClick:()=>e(!t),disabled:l,children:t?"¿Ya tienes cuenta? Inicia sesión":"¿No tienes cuenta? Regístrate"})]})]})})})]})}export{Z as default};
