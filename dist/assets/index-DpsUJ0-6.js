import{H as y,j as e,b as o,I as c}from"./deepmerge-Bi583FQK.js";import{u as S,a as I,B as w,T as u,S as h,D as W}from"./App-Y6V2hxjB.js";import{u as D}from"./useAuth-BiMoHbuW.js";import{C as G,a as T,b as A}from"./firebase-DX1_XfIC.js";import{A as B}from"./Alert-q4hYPDZe.js";import{T as g}from"./TextField-DHIyQFqu.js";import"./index-DBSgbWY_.js";const E=y(e.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");function M(){const[a,m]=o.useState(!1),[i,x]=o.useState(""),[n,p]=o.useState(""),{signIn:j,signUp:C,signInWithGoogle:f,loading:s,error:l}=D(),d=S(),r=I(),v=async t=>{t.preventDefault();try{a?(await C(i,n),r.show("Cuenta creada exitosamente",{severity:"success",autoHideDuration:3e3})):(await j(i,n),r.show("Sesión iniciada",{severity:"success",autoHideDuration:3e3})),d("/dashboard")}catch{}},b=async()=>{try{await f(),r.show("Sesión iniciada con Google",{severity:"success",autoHideDuration:3e3}),d("/dashboard")}catch{}};return e.jsxs(G,{maxWidth:"sm",children:[e.jsx("meta",{name:"title",content:"Iniciar Sesión"}),e.jsx(w,{sx:{mt:8,mb:4},children:e.jsx(T,{children:e.jsxs(A,{children:[e.jsx(u,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:a?"Crear Cuenta":"Iniciar Sesión"}),e.jsx(u,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:a?"Crea tu cuenta para generar códigos QR":"Ingresa para gestionar tus cuentas bancarias"}),l&&e.jsx(B,{severity:"error",sx:{mb:2},children:l}),e.jsxs(h,{spacing:2,children:[e.jsx(c,{fullWidth:!0,variant:"outlined",startIcon:e.jsx(E,{}),onClick:b,disabled:s,size:"large",children:"Continuar con Google"}),e.jsx(W,{children:"O"}),e.jsx("form",{onSubmit:v,children:e.jsxs(h,{spacing:2,children:[e.jsx(g,{fullWidth:!0,label:"Correo electrónico",type:"email",value:i,onChange:t=>x(t.target.value),required:!0,disabled:s}),e.jsx(g,{fullWidth:!0,label:"Contraseña",type:"password",value:n,onChange:t=>p(t.target.value),required:!0,disabled:s,helperText:a?"Mínimo 6 caracteres":""}),e.jsx(c,{fullWidth:!0,variant:"contained",type:"submit",disabled:s,size:"large",children:a?"Crear Cuenta":"Iniciar Sesión"})]})}),e.jsx(c,{fullWidth:!0,variant:"text",onClick:()=>m(!a),disabled:s,children:a?"¿Ya tienes cuenta? Inicia sesión":"¿No tienes cuenta? Regístrate"})]})]})})})]})}export{M as default};
