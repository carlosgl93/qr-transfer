import{ar as w,ai as u,aj as i,b as o}from"./deepmerge-Bi583FQK.js";import{o as p,k as A,l,m as C,n as b,p as E,r as k}from"./firebase-DX1_XfIC.js";const W=w("qr-transfer-user",null),F=u(!0),I=u(null);function U(){const[c,e]=i(W),[g,s]=i(F),[h,a]=i(I);o.useEffect(()=>{const t=p(l,n=>{e(n),s(!1)});return()=>t()},[e,s]);const m=o.useCallback(async(t,n)=>{try{s(!0),a(null);const r=await A(l,t,n);e(r.user)}catch(r){throw a(r.message||"Failed to sign in"),r}finally{s(!1)}},[s,a,e]),d=o.useCallback(async(t,n)=>{try{s(!0),a(null);const r=await C(l,t,n);e(r.user)}catch(r){throw a(r.message||"Failed to sign up"),r}finally{s(!1)}},[s,a,e]),f=o.useCallback(async()=>{try{s(!0),a(null);const t=await b(l,E);e(t.user)}catch(t){throw a(t.message||"Failed to sign in with Google"),t}finally{s(!1)}},[s,a,e]),y=o.useCallback(async()=>{try{s(!0),a(null),await k(l),e(null)}catch(t){throw a(t.message||"Failed to sign out"),t}finally{s(!1)}},[s,a,e]);return{user:c,loading:g,error:h,signIn:m,signUp:d,signInWithGoogle:f,signOut:y}}export{U as u};
